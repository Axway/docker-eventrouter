streams:
  - name: "qlt-to-file"
    upstream: "generator"
    disable: false
    description: ""
    reader:
      type: "qlt-server-reader"
      conf:
        port: 4024
    #transforms:
    #- name: "convert" #/*,scaleOrdered: 4*/
    #- name: "control"
    writer:
      type: "file-writer"
      conf:
        filenamePrefix: "./data/out/generator-raw"
        filenameSuffix: "xml"
  - name: "generator"
    disable: false
    description: ""
    reader:
      type: "event-generator"
      conf:
        minDelay: 1000000
        avgDelay: 5000000
        maxDelay: 2000000
    #transforms:
    #- name: "convert" #/*,scaleOrdered: 4*/
    #- name: "control"
    writer:
      type: "qlt-client-writer"
      conf:
        addresses: "localhost:4024"
        cnx: 1
  - name: "file-to-file"
    upstream: "qlt-to-file"
    disable: false
    description: ""
    reader:
      type: "file-reader"
      conf:
        filenamePrefix: "./data/out/generator-raw"
        filenameSuffix: "xml"
        readerFilename: "file-to-file-reader"
    transforms:
      - type: "control"
      - type: "qlt2json"
    writer:
      type: "file-writer"
      conf:
        filenamePrefix: "./data/out/filename-file"
  - name: "fileXml-to-qlt"
    disable: true
    description: ""
    reader:
      type: "file-reader"
      conf:
        filenamePrefix: "./data/in/sample1"
        filenameSuffix: "xml"
        readerFilename: "fileXml-to-qlt-reader"
    transforms:
      #- name: "convert" #/*,scaleOrdered: 4*/
      #- name: "control"
      - type: "qlt2json"
    writer:
      type: "qlt-client-writer"
      conf:
        addresses: "localhost:4024"
        cnx: 1
  - name: "file-to-kafka"
    upstream: "qlt-to-file"
    disable: true
    description: ""
    reader:
      type: "file-reader"
      conf:
        filenamePrefix: "./data/out/generator-raw"
        filenameSuffix: "xml"
        readerFilename: "file-to-kafka-reader"
    transforms:
      - type: "control"
    writer:
      type: "kafka-writer"
      conf:
        servers: "localhost:9092"
        topic: "zouzou"
        group: "g1"
  - name: "kafka2file"
    upstream: "file-to-kafka"
    disable: true
    description: ""
    reader:
      type: "kafka-reader"
      conf:
        servers: "localhost:9092"
        topic: "zouzou"
        group: "g1"
    transforms:
      - type: "control"
    writer:
      type: "file-writer"
      conf:
        filenamePrefix: "./data/out/filename-kafka"
  - name: "file-to-postgres"
    upstream: "qlt-to-file"
    disable: false
    reader:
      type: "file-reader"
      conf:
        filenamePrefix: "./data/out/generator-raw"
        filenameSuffix: "xml"
        readerFilename: "file-to-postgres-reader"
    transforms:
      - type: "control"
    writer:
      type: "postgres-writer"
      conf:
        url: "postgresql://mypguser:mypgsecretpassword@localhost:5432/mypgdb"
        initialize: true
  - name: "postgres-to-file"
    upstream: "file-to-postgres"
    disable: false
    reader:
      type: "postgres-reader"
      conf:
        url: "postgresql://mypguser:mypgsecretpassword@localhost:5432/mypgdb"
        readerName: "alltest"
    transforms:
      - type: "control"
    writer:
      type: "file-writer"
      conf:
        filenamePrefix: "./data/out/filename-pg"
  - name: "file-to-sqlite"
    upstream: "qlt-to-file"
    disable: false
    reader:
      type: "file-reader"
      conf:
        filenamePrefix: "./data/out/generator-raw"
        filenameSuffix: "xml"
        readerFilename: "file-to-sqlite-reader"
    transforms:
      - type: "control"
    writer:
      type: "sqlite-writer"
      conf:
        path: "./test.db"
        initialize: true
  - name: "sqlite-to-file"
    upstream: "file-to-sqlite"
    disable: false
    reader:
      type: "sqlite-reader"
      conf:
        path: "./test.db"
        readerName: "alltest"
    transforms:
      - type: "control"
    writer:
      type: "file-writer"
      conf:
        filenamePrefix: "./data/out/filename-sqlite"
#processors:
#  file_csv_producer:
#    filename: "./data/csvprodductcer"
